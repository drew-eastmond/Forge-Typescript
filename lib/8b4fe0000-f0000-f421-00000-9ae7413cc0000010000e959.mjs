#! /usr/bin/env node

const _0x8feddd=_0x4383;function _0x29e8(){const _0x195df4=['bundle','eMessage','WbIPS','t\x20for\x20','context\x20do','toLowerCas','filter','st\x20for\x20','mykNk','23113MOtGWe','replace','uyNBK','VVaRN','_$subscrib','bundled','set','es\x20no\x20exis','EyjlU','2951112zOplRJ','cyan','11606288xuFKvG','rver','success','$merge','URNwS','tion','KpooV','Cyztx','add-contex','merge','ESvVL','$stopConte','bind','IgfqT','message','vIZXy','RTMma','VzlWN','_contexts','text','$Walk','ext','SRClP','es\x20nto\x20exi','allSettled','$reset','$library','red','ING','ion\x20data','wgizU','bSfUV','VTzbd','Jgitr','reject','empty\x20func','\x20Socket\x20Se','./tmp','ZhuUB','$execute','ZoUwX','./lib','file\x20:','JkUYV','$route','walk','Port\x20not\x20s','\x22in\x22\x20prope','types','QiOdH','test','$watch','eJYxm','delete','files','ADD\x20SOMETH','has','upplied\x20to','CexUZ','push','remove-con','bhcYS','eozvI','$bundle','g\x20from\x20act','$types','rty\x20missin','mangle','Resolve','hash','YrUjd','xPjFY','\x20flushed','$listen','subscribe','preserve','.js','8365308CkpDsu','./lib/','948020vioHAZ','_server','YEnAU','bQvqO','$export','build','$startCont','688299noCGfu','WFFZr','80VjjoWH','library','70556RWkoIR','XeJrJ'];_0x29e8=function(){return _0x195df4;};return _0x29e8();}(function(_0x4fec73,_0x57581e){const _0x223e9e=_0x4383,_0x27a892=_0x4fec73();while(!![]){try{const _0x1c254f=-parseInt(_0x223e9e(0x1a4))/(-0x3e*-0x3e+-0x1981*-0x1+-0x2884)+parseInt(_0x223e9e(0x18e))/(-0x1cb2*0x1+0x11ed+0xac7)+parseInt(_0x223e9e(0x195))/(-0x15de+0x158f+0x52)+-parseInt(_0x223e9e(0x199))/(-0x157d+0x4b7*-0x4+0x285d)*(parseInt(_0x223e9e(0x197))/(-0xd*-0x7+0x35*-0x41+-0x1*-0xd1f))+parseInt(_0x223e9e(0x1ad))/(-0x4f*-0x47+0xf8b+-0x256e)+parseInt(_0x223e9e(0x18c))/(0x1383*-0x1+0x1c73+-0x8e9)+-parseInt(_0x223e9e(0x1af))/(0x1d*-0x5+0x19e4+-0x7*0x39d);if(_0x1c254f===_0x57581e)break;else _0x27a892['push'](_0x27a892['shift']());}catch(_0x24967d){_0x27a892['push'](_0x27a892['shift']());}}}(_0x29e8,-0x1*0xf5bcc+0x20*0x6e9f+0xb3554));import{BuilderConfig,ForgeClient,ForgeFile,ForgePath,ForgeWebSocketServer,QuickHash,Reactivity}from'@onyx-ignition/forge';import{rm}from'node:fs/promises';import{$Build,UncacheFile}from'./Core';import{LibraryBuilder}from'./LibraryBuilder';function _0x4383(_0x5e2097,_0x4f9c2b){_0x5e2097=_0x5e2097-(0x225e+-0x3*-0x4ef+0x1*-0x2fb9);const _0x253e7e=_0x29e8();let _0xd31868=_0x253e7e[_0x5e2097];return _0xd31868;}import{$BuildTypes}from'./TypesBuilder';function SerializeResult(_0x473d15){const _0x3863cf=_0x4383,_0x507fab=_0x473d15[_0x3863cf(0x1b1)],_0x26ea1a=[];for(const [_0xb9ed25,_0x135330]of _0x473d15)_0x26ea1a[_0x3863cf(0x17a)]([_0xb9ed25,_0x135330]);return{'success':_0x507fab,'result':_0x26ea1a};}var BuildClient=class extends ForgeClient{[_0x8feddd(0x1c1)]=new Map();async[_0x8feddd(0x172)](_0x346530,_0x448f28){const _0x30b887=_0x8feddd,_0x1e8707={'XeJrJ':function(_0x5ee72e,_0x10ed55){return _0x5ee72e(_0x10ed55);},'bhcYS':function(_0x6d6a8,_0x22f297){return _0x6d6a8===_0x22f297;},'ZhuUB':function(_0x5a6476,_0x5773c0,_0x457d4a){return _0x5a6476(_0x5773c0,_0x457d4a);}};let {file:_0x4407e6,event:_0x1831db}=_0x346530;_0x4407e6=_0x4407e6[_0x30b887(0x1a5)](/\\/g,'/'),_0x1e8707[_0x30b887(0x19a)](UncacheFile,_0x4407e6);const _0x1a5285=[];for(const [_0x4cfa66,{filter:_0xe20be5,entry:_0x481361,target:_0x2fe6b6,build:_0x223395}]of this[_0x30b887(0x1c1)]){if(_0x1e8707[_0x30b887(0x17c)](_0xe20be5[_0x30b887(0x1e1)](_0x4407e6),![]))continue;_0x1a5285[_0x30b887(0x17a)](_0x1e8707[_0x30b887(0x1d5)]($Build,_0x481361,_0x223395));}return await Promise[_0x30b887(0x1c7)](_0x1a5285),{'success':!![],'message':_0x30b887(0x1d9)+_0x4407e6+_0x30b887(0x187)};}async[_0x8feddd(0x1c8)](_0xf8de17,_0x5b113a){const _0x5ec0b8=_0x8feddd,_0x52af45={'JkUYV':_0x5ec0b8(0x1d8),'eozvI':_0x5ec0b8(0x1d4),'EyjlU':function(_0x2ee46a,_0x1a7bf6,_0x362405){return _0x2ee46a(_0x1a7bf6,_0x362405);}},_0x489dc6=[...await ForgeFile[_0x5ec0b8(0x1c3)](ForgePath[_0x5ec0b8(0x183)](__dirname,_0x52af45[_0x5ec0b8(0x1da)]),{'recursive':![],'directory':!![]}),...await ForgeFile[_0x5ec0b8(0x1c3)](ForgePath[_0x5ec0b8(0x183)](__dirname,_0x52af45[_0x5ec0b8(0x17d)]),{'recursive':![],'directory':!![]})],_0xef0fcc=[];for(const _0x481baf of _0x489dc6){_0xef0fcc[_0x5ec0b8(0x17a)](_0x52af45[_0x5ec0b8(0x1ac)](rm,_0x481baf,{'recursive':!![],'force':!![]}));}return await Promise[_0x5ec0b8(0x1c7)](_0xef0fcc),{'success':!![]};}async[_0x8feddd(0x1d6)](_0x551bc5,_0x2ce4f5,_0x26a094){const _0x3d6f99=_0x8feddd,_0x43b097={'mykNk':_0x3d6f99(0x1b7)+'t','Jgitr':_0x3d6f99(0x17b)+_0x3d6f99(0x1c2),'WFFZr':_0x3d6f99(0x19b),'VzlWN':_0x3d6f99(0x198),'ESvVL':_0x3d6f99(0x1df),'vIZXy':_0x3d6f99(0x1d2)+_0x3d6f99(0x1b4)};console[_0x3d6f99(0x1ae)](_0x3d6f99(0x1d6),_0x551bc5);switch(_0x551bc5[_0x3d6f99(0x1a0)+'e']()){case _0x43b097[_0x3d6f99(0x1a3)]:return this[_0x3d6f99(0x194)+_0x3d6f99(0x1c4)](_0x2ce4f5,_0x26a094);case _0x43b097[_0x3d6f99(0x1d0)]:return this[_0x3d6f99(0x1ba)+'xt'](_0x2ce4f5,_0x26a094);case _0x43b097[_0x3d6f99(0x196)]:return this[_0x3d6f99(0x17e)](_0x2ce4f5,_0x26a094);case _0x43b097[_0x3d6f99(0x1c0)]:return this[_0x3d6f99(0x1c9)](_0x2ce4f5,_0x26a094);case _0x43b097[_0x3d6f99(0x1b9)]:return this[_0x3d6f99(0x180)](_0x2ce4f5,_0x26a094);}return{'execute':_0x43b097[_0x3d6f99(0x1be)]};}async[_0x8feddd(0x1db)](_0x3ed68a,_0x31c1ba){const _0xca1bbd=_0x8feddd,_0x2e0d8d={'SRClP':_0xca1bbd(0x176)+_0xca1bbd(0x1cb)};throw _0x2e0d8d[_0xca1bbd(0x1c5)];}async[_0x8feddd(0x194)+_0x8feddd(0x1c4)](_0x4b16e5,_0x4a647a){const _0x401035=_0x8feddd,_0x1fa1fb={'URNwS':function(_0x300223){return _0x300223();}},{entry:_0x7b552c,target:_0x558367}=_0x4b16e5;let _0x290830;try{if(_0x4b16e5[_0x401035(0x1a1)])_0x290830=new RegExp(_0x4b16e5[_0x401035(0x1a1)]);}catch(_0x530865){console[_0x401035(0x1ca)](_0x4b16e5[_0x401035(0x1a1)],_0x530865);}const _0x2783b1=[],_0x4d5c5e=new BuilderConfig(_0x4b16e5[_0x401035(0x193)]),_0x326f5d=_0x1fa1fb[_0x401035(0x1b3)](QuickHash);return this[_0x401035(0x1c1)][_0x401035(0x1aa)](_0x326f5d,{'filter':_0x290830,'entry':_0x7b552c,'target':_0x558367,'build':_0x4d5c5e}),{'success':!![],'hash':_0x326f5d,'message':''};}async[_0x8feddd(0x1ba)+'xt'](_0x3671e3,_0x3c0553){const _0x27354a=_0x8feddd,_0xc8ee7a={'bQvqO':function(_0x38ce7e,_0x34eba1){return _0x38ce7e===_0x34eba1;}},_0x5a0d9a=_0x3671e3[_0x27354a(0x184)];if(_0xc8ee7a[_0x27354a(0x191)](_0x5a0d9a,void(-0xd*-0xfb+-0x542+-0x77d*0x1))||_0xc8ee7a[_0x27354a(0x191)](this[_0x27354a(0x1c1)][_0x27354a(0x177)](_0x5a0d9a),![]))return{'success':![],'message':_0x27354a(0x19f)+_0x27354a(0x1ab)+_0x27354a(0x19e)+_0x5a0d9a};return this[_0x27354a(0x1c1)][_0x27354a(0x174)](_0x5a0d9a),{'success':!![],'message':_0x27354a(0x19f)+_0x27354a(0x1c6)+_0x27354a(0x1a2)+_0x5a0d9a};}async[_0x8feddd(0x17e)](_0x2409ed,_0x205eb0){const _0xe7748a=_0x8feddd,_0x6d13a3={'eJYxm':function(_0x217fbb,_0x5e65a3){return _0x217fbb===_0x5e65a3;},'Cyztx':function(_0x476600,_0x6efb0a){return _0x476600==_0x6efb0a;},'WbIPS':function(_0x29d8f2,_0x1d6bce){return _0x29d8f2(_0x1d6bce);},'wgizU':function(_0x22b3e6,_0x193f93,_0x5528b7){return _0x22b3e6(_0x193f93,_0x5528b7);}},{entry:_0x53cd7a,build:_0x10cf39,target:_0x22ccb4}=_0x2409ed;if(_0x6d13a3[_0xe7748a(0x173)](_0x53cd7a,void(-0x4*-0x45f+0x3e8*-0x3+0x2e2*-0x2))||_0x6d13a3[_0xe7748a(0x1b6)](_0x53cd7a,''))throw _0xe7748a(0x1de)+_0xe7748a(0x181)+_0xe7748a(0x17f)+_0xe7748a(0x1cc);return _0x6d13a3[_0xe7748a(0x19d)](SerializeResult,await _0x6d13a3[_0xe7748a(0x1cd)]($Build,_0x53cd7a,_0x10cf39));}async[_0x8feddd(0x1c9)](_0x86b812,_0x353af1){const _0x14d0be=_0x8feddd,_0x4cab5b={'YrUjd':function(_0xf8e178,_0x110f87){return _0xf8e178==_0x110f87;},'CexUZ':_0x14d0be(0x182),'VVaRN':_0x14d0be(0x18a),'QiOdH':function(_0xb6a790,_0x57675f){return _0xb6a790(_0x57675f);},'IgfqT':_0x14d0be(0x18d),'YEnAU':_0x14d0be(0x18b),'bSfUV':function(_0x30befa,_0x93337e){return _0x30befa==_0x93337e;},'ZoUwX':_0x14d0be(0x1b8)},{source:_0x31085e,build:_0x45b089}=_0x86b812,{root:_0x19df7b,aliases:_0x53b483}=_0x31085e,_0x2f952b=_0x31085e?_0x31085e[_0x14d0be(0x175)]:await ForgeFile[_0x14d0be(0x1c3)](_0x31085e[_0x14d0be(0x1dc)]),_0xb07f64=new LibraryBuilder();if(_0x4cab5b[_0x14d0be(0x185)](_0x45b089[_0x14d0be(0x1a9)],_0x4cab5b[_0x14d0be(0x179)])||_0x4cab5b[_0x14d0be(0x185)](_0x45b089[_0x14d0be(0x1a9)],_0x4cab5b[_0x14d0be(0x1a7)]))return _0x4cab5b[_0x14d0be(0x1e0)](SerializeResult,await _0xb07f64[_0x14d0be(0x192)]({'files':_0x2f952b,'root':_0x19df7b,'aliases':_0x53b483},new BuilderConfig(_0x45b089),{'join':_0x4cab5b[_0x14d0be(0x1bc)],'ext':_0x4cab5b[_0x14d0be(0x190)]}));else{if(_0x4cab5b[_0x14d0be(0x1ce)](_0x45b089[_0x14d0be(0x1a9)],_0x4cab5b[_0x14d0be(0x1d7)])){const _0x11991e=await _0xb07f64[_0x14d0be(0x17e)]({'files':_0x2f952b,'root':_0x19df7b,'aliases':_0x53b483},new BuilderConfig(_0x45b089));return{'success':!![],'result':[{'code':_0x11991e},{'code':!![],'source':!![]}]};}}const _0x6ef67e=await _0xb07f64[_0x14d0be(0x1b2)]({'root':_0x19df7b,'files':_0x2f952b,'aliases':_0x53b483});return{'success':!![],'result':[{'code':_0x6ef67e},{'code':!![],'source':!![]}]};}async[_0x8feddd(0x188)](_0xa42972,_0x31741f){const _0x86dad4=_0x8feddd,_0x5a1318={'KpooV':function(_0x33be0b,_0x267986){return _0x33be0b===_0x267986;},'xPjFY':_0x86dad4(0x1bd),'uyNBK':function(_0x18684b,_0x4f9fdd){return _0x18684b(_0x4f9fdd);}};if(this[_0x86dad4(0x18f)])return this[_0x86dad4(0x18f)];if(_0x5a1318[_0x86dad4(0x1b5)](_0x5a1318[_0x86dad4(0x1a6)](isNaN,_0xa42972),!![]))throw new Error(_0x86dad4(0x1dd)+_0x86dad4(0x178)+_0x86dad4(0x1d3)+_0x86dad4(0x1b0));return this[_0x86dad4(0x18f)]=new ForgeWebSocketServer(_0xa42972,_0x31741f),this[_0x86dad4(0x18f)][Reactivity][_0x86dad4(0x189)](async function([_0x1efedf,_0x374717,_0x5a1db7]){const _0x2ff671=_0x86dad4;if(_0x5a1318[_0x2ff671(0x1b5)](_0x374717,void(0x548+-0x8d*-0x3b+-0x25c7)))return;try{this[_0x2ff671(0x1a8)+_0x2ff671(0x19c)](_0x5a1318[_0x2ff671(0x186)],_0x1efedf,_0x374717,_0x5a1db7);}catch(_0x5ce6da){_0x1efedf[_0x2ff671(0x1d1)](_0x374717,{'error':_0x5a1318[_0x2ff671(0x1a6)](String,_0x5ce6da)});}}[_0x86dad4(0x1bb)](this)),this[_0x86dad4(0x18f)];}async[_0x8feddd(0x180)](_0x149afe,_0x1947cf){const _0x4bc6b7=_0x8feddd,_0xc78e45={'RTMma':function(_0x378ac6,_0x47bbda){return _0x378ac6(_0x47bbda);},'VTzbd':function(_0x155193,_0x4a6957,_0x4edec3,_0x2e4c2c,_0x4db2b7){return _0x155193(_0x4a6957,_0x4edec3,_0x2e4c2c,_0x4db2b7);}},{entry:_0x3be5c4,name:_0x5b67ed,build:_0x556167,options:{ignore:_0x379637,temp:_0x1cab20}}=_0x149afe;return _0xc78e45[_0x4bc6b7(0x1bf)](SerializeResult,await _0xc78e45[_0x4bc6b7(0x1cf)]($BuildTypes,_0x3be5c4,_0x5b67ed,_0x556167,{'ignore':_0x379637,'temp':_0x1cab20}));}};export{BuildClient};